<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core">

<body>
<h:messages />
<h1>Identity provider selection</h1>
<c:if
	test="#{configuration.serviceProvider.samlConfiguration != null}">
	<h2>SAML</h2>
	<p>Choose one of the following identity providers to sign on:</p>
	<h:form>
		<h:dataTable
			value="#{configuration.serviceProvider.samlConfiguration.identityProviders}"
			var="identityProvider">
			<h:column>
				<h:outputText value="#{identityProvider.entityId}" />
			</h:column>
			<h:column>
				<h:commandLink
					action="#{externalAuthenticator.samlSignOn(identityProvider.entityId)}"
					value="Login" />
			</h:column>
		</h:dataTable>
	</h:form>
</c:if>
<c:if
	test="#{configuration.serviceProvider.openIdConfiguration != null}">
	<h2>OpenID</h2>
	<h:form>
		<p>Choose your OpenID provider (using "directed identity"): <ul>
		<li><h:commandLink
			action="#{externalAuthenticator.openIdSignOn('https://www.google.com/accounts/o8/id')}"
			value="Google" /> </li>
		<li><h:commandLink
			action="#{externalAuthenticator.openIdSignOn('https://me.yahoo.com')}"
			value="Yahoo" /> </li>
		<li><h:commandLink
			action="#{externalAuthenticator.openIdSignOn('https://myopenid.com')}"
			value="myOpenID" /> </li>
		<li><h:commandLink
			action="#{externalAuthenticator.openIdSignOn('http://myspace.com')}"
			value="MySpace" /> </li>
		</ul></p>
	</h:form>
	<h:form>
		<p>Or use your OpenID URL:&#160;<h:inputText
			value="#{externalAuthenticator.openId}" required="true" />&#160;<h:commandLink
			action="#{externalAuthenticator.openIdSignOn}" value="Sign On" /></p>
	</h:form>
</c:if>
<c:if
	test="#{configuration.serviceProvider.facebookConfiguration != null}">
	<h2>Facebook</h2>
	<h:form>
		<h:commandLink action="#{externalAuthenticator.facebookLogin}">
			<h:graphicImage value="/images/login_with_facebook.png" />
		</h:commandLink>
	</h:form>
</c:if>
</body>

</html>